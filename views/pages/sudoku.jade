doctype html
html(lang="en-US")
    head
        title Sudoku - Kapil Easwar

        //- libraries and sudoku scripts
        script(src="/public/jquery-2.1.3.js", type="text/javascript")
        script(src="/public/SudokuModel.js", type="text/javascript")
        script(src="/public/SudokuController.js", type="text/javascript")

        //- intialize the controller
        script(type="text/javascript").
            $(document).ready(function() {
                window.SUDO_CONTROLLER = new SudokuController($, $('#sudokuBoard'), [#{GENERATED_BOARD}]).start();
            });

        //- stylesheets
        link(href="/public/pages/sudoku.css", rel="stylesheet", type="text/css")

        //- local Jade vars
        - var NUM_CLUSTERS = 3;
        - var CLUSTER_SIZE = 3;
        - var BOARD_SIZE = 9;
    body
        h1 Sudoku by Kapil Easwar

        div#sudokuBoard.table
            - for (var iClustRow = 0; iClustRow < NUM_CLUSTERS; iClustRow++) {
                div.row
                    - for (var iClustCol = 0; iClustCol < NUM_CLUSTERS; iClustCol++) {
                        div.cluster-outer
                            div.table
                                - for (var iSquareRow = 0; iSquareRow < CLUSTER_SIZE; iSquareRow++) {
                                    div.row
                                        - for (var iSquareCol = 0; iSquareCol < CLUSTER_SIZE; iSquareCol++) {
                                            div.cell.square-outer
                                                input(type="text").square(data-sudo-row="#{3*iClustRow + iSquareRow}", data-sudo-col="#{3*iClustCol + iSquareCol}")
                                        - }
                                - }
                    - }
            - }